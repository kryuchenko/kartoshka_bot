#!/usr/bin/env python3
import asyncio
import sys
import os

# ANSI –∫–æ–¥—ã –¥–ª—è —Ü–≤–µ—Ç–æ–≤ (–¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏), –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è –µ—Å–ª–∏ NO_COLOR=1
if os.environ.get('NO_COLOR'):
    GREEN = ""
    RED = ""
    YELLOW = ""
    RESET = ""
    BOLD = ""
else:
    GREEN = "\033[92m"  # –∑–µ–ª–µ–Ω—ã–π
    RED = "\033[91m"    # –∫—Ä–∞—Å–Ω—ã–π
    YELLOW = "\033[93m" # –∂–µ–ª—Ç—ã–π
    RESET = "\033[0m"   # —Å–±—Ä–æ—Å —Ü–≤–µ—Ç–∞
    BOLD = "\033[1m"    # –∂–∏—Ä–Ω—ã–π

# –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
async def demonstrate_voting_widget():
    print("\n=== –ù–ê–ì–õ–Ø–î–ù–ê–Ø –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –í–ò–î–ñ–ï–¢–ê (–¢–û–õ–¨–ö–û –¢–û, –ß–¢–û –í–ò–î–ò–¢ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨) ===\n")
    
    # 1. –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–º–∞
    print("ü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
    print("[–ö–Ω–æ–ø–∫–∞]: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ: (‚úÖ 0 | ‚ö° 0 | ‚ùå 0)")
    print("-" * 60)
    await asyncio.sleep(1)
    
    # 2. –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≥–æ–ª–æ—Å–∞
    print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
    print("[–ö–Ω–æ–ø–∫–∞]: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ: (‚úÖ 1 | ‚ö° 0 | ‚ùå 0)")
    print("-" * 60)
    await asyncio.sleep(1)
    
    # 3. –ü–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ –≥–æ–ª–æ—Å–∞
    print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
    print("[–ö–Ω–æ–ø–∫–∞]: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ: (‚úÖ 1 | ‚ö° 1 | ‚ùå 0)")
    print("-" * 60)
    await asyncio.sleep(1)
    
    # 4. –ü–æ—Å–ª–µ —Ç—Ä–µ—Ç—å–µ–≥–æ –≥–æ–ª–æ—Å–∞
    print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
    print("[–ö–Ω–æ–ø–∫–∞]: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ: (‚úÖ 1 | ‚ö° 1 | ‚ùå 1)")
    print("-" * 60)
    await asyncio.sleep(1)
    
    # –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
    if len(sys.argv) > 1:
        result = sys.argv[1]
    else:
        result = "approve"  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–¥–æ–±—Ä–µ–Ω–∏–µ
    
    if result == "approve":
        # –û–¥–æ–±—Ä–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ–µ
        print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
        print(f"[–ö–Ω–æ–ø–∫–∞]: {GREEN}‚úÖ –û–¥–æ–±—Ä–µ–Ω{RESET} (‚úÖ 3 | ‚ö° 0 | ‚ùå 2)")
        print("-" * 60)
        await asyncio.sleep(1)
        
        # –ü–æ—Å–ª–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
        print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
        print(f"[–ö–Ω–æ–ø–∫–∞]: {GREEN}‚úÖ –û–¥–æ–±—Ä–µ–Ω{RESET} (‚úÖ 3 | ‚ö° 0 | ‚ùå 2) ‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è: 15:30 UTC (—á–µ—Ä–µ–∑ 30 –º–∏–Ω.)")
        
    elif result == "urgent":
        # –°—Ä–æ—á–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
        print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
        print(f"[–ö–Ω–æ–ø–∫–∞]: {YELLOW}‚ö° –û–¥–æ–±—Ä–µ–Ω —Å—Ä–æ—á–Ω–æ{RESET} (‚úÖ 1 | ‚ö° 2 | ‚ùå 0)")
        
    else:
        # –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
        print("\nü§ñ –ë–æ—Ç: –í–∞—à –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.")
        print(f"[–ö–Ω–æ–ø–∫–∞]: {RED}‚ùå –û—Ç–∫–ª–æ–Ω—ë–Ω{RESET} (‚úÖ 0 | ‚ö° 1 | ‚ùå 3)")
    
    print("-" * 60)
    
# –§—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞, —É–¥–∞–ª—è–µ–º –µ–µ

# –î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
if __name__ == "__main__":
    asyncio.run(demonstrate_voting_widget())
else:
    # –§—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ GitHub Actions
    def run_demonstration():
        asyncio.run(demonstrate_voting_widget())